var tt=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var r=(e,t,s)=>(tt(e,t,"read from private field"),s?s.call(e):t.get(e)),l=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},d=(e,t,s,i)=>(tt(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);var f=(e,t,s)=>(tt(e,t,"access private method"),s);import{b8 as Tt,b9 as et,ba as xt,bb as Ct,bc as pt,bd as Ot,be as It,bf as Dt,bg as bt,bh as wt,r as R,bi as Lt,y as Nt,b as _t,am as jt,A as Rt,a6 as At,N as v,bj as y,f as Ft,aC as Mt,j as p,B as kt,b3 as Qt,a7 as Ut}from"./index-8175425f.js";import{T as Bt}from"./TransactionCost-57339e13.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5764479a-4859-466b-3f06-a678bf98fb66",e._sentryDebugIdIdentifier="sentry-dbid-5764479a-4859-466b-3f06-a678bf98fb66")}catch{}})();var m,c,H,b,D,A,T,W,F,M,L,N,I,k,_,P,Z,st,z,rt,K,it,G,nt,$,at,Y,ot,q,ct,J,St,Et,Vt=(Et=class extends Tt{constructor(t,s){super();l(this,_);l(this,Z);l(this,z);l(this,K);l(this,G);l(this,$);l(this,Y);l(this,q);l(this,J);l(this,m,void 0);l(this,c,void 0);l(this,H,void 0);l(this,b,void 0);l(this,D,void 0);l(this,A,void 0);l(this,T,void 0);l(this,W,void 0);l(this,F,void 0);l(this,M,void 0);l(this,L,void 0);l(this,N,void 0);l(this,I,void 0);l(this,k,new Set);this.options=s,d(this,m,t),d(this,T,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,c).addObserver(this),gt(r(this,c),this.options)?f(this,_,P).call(this):this.updateResult(),f(this,G,nt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ht(r(this,c),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ht(r(this,c),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,f(this,$,at).call(this),f(this,Y,ot).call(this),r(this,c).removeObserver(this)}setOptions(t,s){const i=this.options,o=r(this,c);if(this.options=r(this,m).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");f(this,q,ct).call(this),r(this,c).setOptions(this.options),i._defaulted&&!et(this.options,i)&&r(this,m).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,c),observer:this});const n=this.hasListeners();n&&mt(r(this,c),o,this.options,i)&&f(this,_,P).call(this),this.updateResult(s),n&&(r(this,c)!==o||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&f(this,Z,st).call(this);const a=f(this,z,rt).call(this);n&&(r(this,c)!==o||this.options.enabled!==i.enabled||a!==r(this,I))&&f(this,K,it).call(this,a)}getOptimisticResult(t){const s=r(this,m).getQueryCache().build(r(this,m),t),i=this.createResult(s,t);return Ht(this,i)&&(d(this,b,i),d(this,A,this.options),d(this,D,r(this,c).state)),i}getCurrentResult(){return r(this,b)}trackResult(t,s){const i={};return Object.keys(t).forEach(o=>{Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),s==null||s(o),t[o])})}),i}trackProp(t){r(this,k).add(t)}getCurrentQuery(){return r(this,c)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=r(this,m).defaultQueryOptions(t),i=r(this,m).getQueryCache().build(r(this,m),s);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,s))}fetch(t){return f(this,_,P).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,b)))}createResult(t,s){var ft;const i=r(this,c),o=this.options,n=r(this,b),a=r(this,D),h=r(this,A),O=t!==i?t.state:r(this,H),{state:g}=t;let u={...g},Q=!1,C;if(s._optimisticResults){const S=this.hasListeners(),X=!S&&gt(t,s),yt=S&&mt(t,i,s,o);(X||yt)&&(u={...u,...Dt(g.data,t.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:w,errorUpdatedAt:j,status:x}=u;if(s.select&&u.data!==void 0)if(n&&u.data===(a==null?void 0:a.data)&&s.select===r(this,W))C=r(this,F);else try{d(this,W,s.select),C=s.select(u.data),C=bt(n==null?void 0:n.data,C,s),d(this,F,C),d(this,T,null)}catch(S){d(this,T,S)}else C=u.data;if(s.placeholderData!==void 0&&C===void 0&&x==="pending"){let S;if(n!=null&&n.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))S=n.data;else if(S=typeof s.placeholderData=="function"?s.placeholderData((ft=r(this,M))==null?void 0:ft.state.data,r(this,M)):s.placeholderData,s.select&&S!==void 0)try{S=s.select(S),d(this,T,null)}catch(X){d(this,T,X)}S!==void 0&&(x="success",C=bt(n==null?void 0:n.data,S,s),Q=!0)}r(this,T)&&(w=r(this,T),C=r(this,F),j=Date.now(),x="error");const U=u.fetchStatus==="fetching",B=x==="pending",V=x==="error",ut=B&&U,dt=C!==void 0;return{status:x,fetchStatus:u.fetchStatus,isPending:B,isSuccess:x==="success",isError:V,isInitialLoading:ut,isLoading:ut,data:C,dataUpdatedAt:u.dataUpdatedAt,error:w,errorUpdatedAt:j,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>O.dataUpdateCount||u.errorUpdateCount>O.errorUpdateCount,isFetching:U,isRefetching:U&&!B,isLoadingError:V&&!dt,isPaused:u.fetchStatus==="paused",isPlaceholderData:Q,isRefetchError:V&&dt,isStale:lt(t,s),refetch:this.refetch}}updateResult(t){const s=r(this,b),i=this.createResult(r(this,c),this.options);if(d(this,D,r(this,c).state),d(this,A,this.options),r(this,D).data!==void 0&&d(this,M,r(this,c)),et(i,s))return;d(this,b,i);const o={},n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,h=typeof a=="function"?a():a;if(h==="all"||!h&&!r(this,k).size)return!0;const E=new Set(h??r(this,k));return this.options.throwOnError&&E.add("error"),Object.keys(r(this,b)).some(O=>{const g=O;return r(this,b)[g]!==s[g]&&E.has(g)})};(t==null?void 0:t.listeners)!==!1&&n()&&(o.listeners=!0),f(this,J,St).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&f(this,G,nt).call(this)}},m=new WeakMap,c=new WeakMap,H=new WeakMap,b=new WeakMap,D=new WeakMap,A=new WeakMap,T=new WeakMap,W=new WeakMap,F=new WeakMap,M=new WeakMap,L=new WeakMap,N=new WeakMap,I=new WeakMap,k=new WeakMap,_=new WeakSet,P=function(t){f(this,q,ct).call(this);let s=r(this,c).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(xt)),s},Z=new WeakSet,st=function(){if(f(this,$,at).call(this),Ct||r(this,b).isStale||!pt(this.options.staleTime))return;const s=Ot(r(this,b).dataUpdatedAt,this.options.staleTime)+1;d(this,L,setTimeout(()=>{r(this,b).isStale||this.updateResult()},s))},z=new WeakSet,rt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,c)):this.options.refetchInterval)??!1},K=new WeakSet,it=function(t){f(this,Y,ot).call(this),d(this,I,t),!(Ct||this.options.enabled===!1||!pt(r(this,I))||r(this,I)===0)&&d(this,N,setInterval(()=>{(this.options.refetchIntervalInBackground||It.isFocused())&&f(this,_,P).call(this)},r(this,I)))},G=new WeakSet,nt=function(){f(this,Z,st).call(this),f(this,K,it).call(this,f(this,z,rt).call(this))},$=new WeakSet,at=function(){r(this,L)&&(clearTimeout(r(this,L)),d(this,L,void 0))},Y=new WeakSet,ot=function(){r(this,N)&&(clearInterval(r(this,N)),d(this,N,void 0))},q=new WeakSet,ct=function(){const t=r(this,m).getQueryCache().build(r(this,m),this.options);if(t===r(this,c))return;const s=r(this,c);d(this,c,t),d(this,H,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},J=new WeakSet,St=function(t){wt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(r(this,b))}),r(this,m).getQueryCache().notify({query:r(this,c),type:"observerResultsUpdated"})})},Et);function Pt(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gt(e,t){return Pt(e,t)||e.state.data!==void 0&&ht(e,t,t.refetchOnMount)}function ht(e,t,s){if(t.enabled!==!1){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&lt(e,t)}return!1}function mt(e,t,s,i){return(e!==t||i.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&lt(e,s)}function lt(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function Ht(e,t){return!et(e.getCurrentResult(),t)}var vt=R.createContext(!1),Wt=()=>R.useContext(vt);vt.Provider;function Zt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var zt=R.createContext(Zt()),Kt=()=>R.useContext(zt);function Gt(e,t){return typeof e=="function"?e(...t):!!e}var $t=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Yt=e=>{R.useEffect(()=>{e.clearReset()},[e])},qt=({result:e,errorResetBoundary:t,throwOnError:s,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&Gt(s,[e.error,i]),Jt=(e,t)=>t.state.data===void 0,Xt=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},te=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ee=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function se(e,t,s){const i=Lt(s),o=Wt(),n=Kt(),a=i.defaultQueryOptions(e);a._optimisticResults=o?"isRestoring":"optimistic",Xt(a),$t(a,n),Yt(n);const[h]=R.useState(()=>new t(i,a)),E=h.getOptimisticResult(a);if(R.useSyncExternalStore(R.useCallback(O=>{const g=o?()=>{}:h.subscribe(wt.batchCalls(O));return h.updateResult(),g},[h,o]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),R.useEffect(()=>{h.setOptions(a,{listeners:!1})},[a,h]),te(a,E))throw ee(a,h,n);if(qt({result:E,errorResetBoundary:n,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash)}))throw E.error;return a.notifyOnChangeProps?E:h.trackResult(E)}function re(e,t){return se({...e,enabled:!0,suspense:!0,throwOnError:Jt,placeholderData:void 0},Vt,t)}const ie=e=>R.createElement("svg",{width:"current",height:"current",viewBox:"0 0 20 20",fill:"current",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M10 0.25C8.07164 0.25 6.18657 0.821828 4.58319 1.89317C2.97982 2.96451 1.73013 4.48726 0.992179 6.26884C0.254225 8.05042 0.061142 10.0108 0.437348 11.9021C0.813554 13.7934 1.74215 15.5307 3.10571 16.8943C4.46928 18.2579 6.20656 19.1865 8.09787 19.5627C9.98919 19.9389 11.9496 19.7458 13.7312 19.0078C15.5127 18.2699 17.0355 17.0202 18.1068 15.4168C19.1782 13.8134 19.75 11.9284 19.75 10C19.7473 7.41498 18.7192 4.93661 16.8913 3.10872C15.0634 1.28084 12.585 0.25273 10 0.25ZM14.2806 8.28063L9.03063 13.5306C8.96097 13.6004 8.87826 13.6557 8.78721 13.6934C8.69616 13.7312 8.59857 13.7506 8.5 13.7506C8.40144 13.7506 8.30385 13.7312 8.2128 13.6934C8.12175 13.6557 8.03903 13.6004 7.96938 13.5306L5.71938 11.2806C5.57865 11.1399 5.49959 10.949 5.49959 10.75C5.49959 10.551 5.57865 10.3601 5.71938 10.2194C5.86011 10.0786 6.05098 9.99958 6.25 9.99958C6.44903 9.99958 6.6399 10.0786 6.78063 10.2194L8.5 11.9397L13.2194 7.21937C13.2891 7.14969 13.3718 7.09442 13.4628 7.0567C13.5539 7.01899 13.6515 6.99958 13.75 6.99958C13.8486 6.99958 13.9461 7.01899 14.0372 7.0567C14.1282 7.09442 14.2109 7.14969 14.2806 7.21937C14.3503 7.28906 14.4056 7.37178 14.4433 7.46283C14.481 7.55387 14.5004 7.65145 14.5004 7.75C14.5004 7.84855 14.481 7.94613 14.4433 8.03717C14.4056 8.12822 14.3503 8.21094 14.2806 8.28063Z",fill:"current"})),he=e=>R.createElement("svg",{width:"current",height:"current",viewBox:"0 0 17 17",fill:"current",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M15.7594 4.73184L12.268 1.24122C12.1519 1.12511 12.0141 1.03301 11.8624 0.970178C11.7107 0.907342 11.5482 0.875 11.384 0.875C11.2198 0.875 11.0572 0.907342 10.9056 0.970178C10.7539 1.03301 10.6161 1.12511 10.5 1.24122L0.866412 10.8748C0.749834 10.9905 0.657407 11.1281 0.594506 11.2798C0.531604 11.4315 0.499482 11.5942 0.500006 11.7584V15.2498C0.500006 15.5813 0.631702 15.8993 0.866123 16.1337C1.10054 16.3681 1.41849 16.4998 1.75001 16.4998H14.875C15.0408 16.4998 15.1997 16.434 15.3169 16.3168C15.4342 16.1995 15.5 16.0406 15.5 15.8748C15.5 15.7091 15.4342 15.5501 15.3169 15.4329C15.1997 15.3157 15.0408 15.2498 14.875 15.2498H7.00938L15.7594 6.49981C15.8755 6.38373 15.9676 6.24592 16.0304 6.09425C16.0933 5.94257 16.1256 5.78 16.1256 5.61583C16.1256 5.45165 16.0933 5.28908 16.0304 5.13741C15.9676 4.98573 15.8755 4.84792 15.7594 4.73184ZM5.24141 15.2498H1.75001V11.7584L8.625 4.88341L12.1164 8.37481L5.24141 15.2498ZM13 7.49122L9.50938 3.99981L11.3844 2.12481L14.875 5.61622L13 7.49122Z",fill:"current"}));function le({domain:e,antId:t}){const[{arweaveDataProvider:s,arioContract:i}]=Nt(),[{wallet:o}]=_t(),{data:n,isLoading:a,error:h,refetch:E}=re({queryKey:["domainInfo",{domain:e,antId:t}],queryFn:()=>O({domain:e,antId:t}).catch(g=>g),staleTime:1e3*60*2,refetchInterval:1e3*60*2});async function O({domain:g,antId:u}){if(!g&&!u)throw new Error("No domain or antId provided");const Q=o==null?void 0:o.arconnectSigner,C=g?await i.getArNSRecord({domain:g}):void 0;let w=u||(C==null?void 0:C.contractTxId);const j=w&&Q?jt.init({contractTxId:w.toString(),signer:Q}):void 0;if(!j||!w)throw new Error("No contractTxId found");w=new Rt(w.toString());const x=await j.getState(),U=await s.getPendingContractInteractions(w),B=new At(x,w,U),V=Object.keys(await s.getRecords({filters:{contractTxId:[w]}}));return{arnsRecord:C,antState:B.state,associatedNames:V,antProvider:j,arioProvider:i,contractTxId:new Rt(w.toString())}}return{data:n,isLoading:a,error:h,refetch:E}}async function ue({payload:e,workflowName:t,antProvider:s,contractTxId:i,dispatch:o}){let n,a;try{if(!s)throw new Error("ANT provider is not defined");switch(o({type:"setSigning",payload:!0}),t){case v.SET_NAME:n=await s.setName({name:e.name}),a=y.SET_NAME;break;case v.SET_TARGET_ID:n=await s.setRecord({subDomain:"@",transactionId:e.transactionId,ttlSeconds:e.ttlSeconds}),a=y.SET_RECORD;break;case v.SET_TTL_SECONDS:n=await s.setRecord({subDomain:"@",transactionId:e.transactionId,ttlSeconds:e.ttlSeconds}),a=y.SET_RECORD;break;case v.SET_TICKER:n=await s.setTicker({ticker:e.ticker}),a=y.SET_TICKER;break;case v.SET_CONTROLLER:n=await s.setController({controller:e.controller}),a=y.SET_CONTROLLER;break;case v.REMOVE_CONTROLLER:n=await s.removeController({controller:e.controller}),a=y.REMOVE_CONTROLLER;break;case v.TRANSFER:n=await s.transfer({target:e.target}),a=y.TRANSFER;break;case v.SET_RECORD:n=await s.setRecord({subDomain:e.subDomain,transactionId:e.transactionId,ttlSeconds:e.ttlSeconds}),a=y.SET_RECORD;break;case v.EDIT_RECORD:n=await s.setRecord({subDomain:e.subDomain,transactionId:e.transactionId,ttlSeconds:e.ttlSeconds}),a=y.SET_RECORD;break;case v.REMOVE_RECORD:n=await s.removeRecord({subDomain:e.subDomain}),a=y.REMOVE_RECORD;break;default:throw new Error(`Unsupported workflow name: ${t}`)}}catch(E){Ft.emit("error",E)}finally{o({type:"setSigning",payload:!1})}if(!n)throw new Error("Failed to dispatch ANT interaction");if(!a)throw new Error("Failed to set workflow name");const h={deployer:n.owner,contractTxId:i.toString(),id:await n.id,payload:{...e,function:a},type:"interaction"};return await Mt.push(i.toString(),h),o({type:"setWorkflowName",payload:t}),o({type:"setInteractionResult",payload:h}),h}function de({interactionType:e,content:t=p.jsx("span",{children:`Are you sure you want to ${e.toLowerCase()}?`}),cancel:s,confirm:i,fee:o,cancelText:n="Cancel",confirmText:a="Confirm"}){return p.jsx("div",{className:"modal-container",children:p.jsx(kt,{title:p.jsx("h2",{className:"white",children:e}),body:p.jsx("div",{className:"flex flex-column white",style:{gap:"20px",fontSize:"13px",padding:"15px 0px",paddingTop:"0px",lineHeight:"1.5",fontWeight:160},children:t}),onCancel:s,onClose:s,nextText:a,cancelText:n,onNext:i,footer:p.jsx("div",{style:{width:"fit-content"},children:p.jsx(Bt,{fee:o,showBorder:!1,feeWrapperStyle:{alignItems:"flex-start"}})})})})}function fe({txId:e,title:t,close:s}){const i=R.useRef(null);return R.useEffect(()=>{var o;(o=i.current)==null||o.scrollIntoView({behavior:"smooth"})},[e,i]),p.jsxs("div",{ref:i,className:"flex flex-row success-container center fade-in",children:[p.jsx(ie,{width:"20px",height:"20px",fill:"var(--success-green)"}),p.jsxs("div",{className:"flex-column",style:{width:"100%",justifyContent:"flex-start",alignItems:"flex-start",gap:"5px",fontSize:"16px"},children:[p.jsx("span",{className:"white",children:t??"Transaction Complete"}),p.jsx(Qt,{id:e,shouldLink:!0,linkStyle:{color:"var(--success-green)"}})]}),s?p.jsx("button",{className:"button flex center pointer",onClick:s,children:p.jsx(Ut,{width:"20px",height:"20px",fill:"white"})}):p.jsx(p.Fragment,{})]})}export{de as C,he as S,fe as T,ue as d,le as u};
//# sourceMappingURL=TransactionSuccessCard-692d4c4b.js.map
