import{bO as s,d as p,c_ as I,aM as b,cT as w,a as E,c as C,r as S,b as j,bt as l,j as e,bC as v,cM as T,bI as u,aT as R,bV as U}from"./index-894af6b3.js";import{W as D}from"./WarningCard-faf5ac54.js";import{C as A,T as k}from"./TransactionCost-b4c61e2b.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[n]="b72141c3-bc03-4cf4-2c20-9aaaf3b9061c",a._sentryDebugIdIdentifier="sentry-dbid-b72141c3-bc03-4cf4-2c20-9aaaf3b9061c")}catch{}})();function _({workflowName:a,...n}){switch(a){case s.INCREASE_UNDERNAMES:return`Increasing your undernames is paid in ${n.arioTicker} tokens.`;case s.EXTEND_LEASE:case s.BUY_RECORD:return`This includes a registration fee (paid in ${n.arioTicker} tokens).`;default:return}}function M({name:a,quantity:n}){const[{arioProcessId:r,arioContract:d}]=p();return I({queryKey:["increaseUndernameCost",n,r.toString(),a],queryFn:async()=>await d.getTokenCost({intent:"Increase-Undername-Limit",quantity:n,name:a}),staleTime:1e3*60*5})}function P(){const a=b(),n=w(),r=E(),[{arioTicker:d,arioProcessId:x}]=p(),t=n.pathname.split("/").at(-2),[,m]=C(),[i,f]=S.useState(0),{data:y}=j({domain:t}),{data:o}=M({name:l(t??""),quantity:i}),{arnsRecord:c,antProcess:g,undernameCount:N}=y??{};return!c||!g||!t?e.jsx("div",{className:"page center",children:e.jsx(v,{size:80,message:"Loading domain record"})}):e.jsx("div",{className:"page center",children:e.jsxs("div",{className:"flex flex-column",style:{maxWidth:"1000px"},children:[e.jsx("h1",{className:"flex white text-[2rem]",children:"Increase Undernames"}),e.jsxs("div",{className:"flex center",style:{justifyContent:"space-between",border:"1px solid var(--text-faded)",padding:"35px 40px",borderRadius:"var(--corner-radius)",flexDirection:a?"column":"row",gap:"30px"},children:[e.jsxs("div",{className:"flex flex-column",style:{fontSize:"16px",width:"fit-content",gap:"5px"},children:[e.jsxs("span",{className:"flex grey center",style:{gap:"8px",whiteSpace:"nowrap"},children:["Total Undernames:"," ",e.jsx("span",{className:"white",children:c.undernameLimit}),e.jsxs("span",{className:"flex add-box center",style:{},children:["+",i]})]}),e.jsxs("span",{className:"flex grey",children:["Used:Â ",e.jsxs("span",{className:"white",children:[" ",N]})]})]}),e.jsx(A,{maxValue:T-c.undernameLimit,minValue:0,value:i,setValue:f,containerStyle:{width:"fit-content",justifyContent:"center",alignItems:"center"},valueStyle:{background:"var(--card-bg)",width:"50px",height:"40px",alignItems:"center",justifyContent:"center",border:"1px solid var(--text-faded)",borderRadius:"var(--corner-radius)",margin:"0px 10px",fontSize:"14px"},editable:!0})]}),e.jsx(k,{feeWrapperStyle:{alignItems:"center",justifyContent:"center",height:"100%"},ioRequired:!0,fee:{[d]:i===0?0:o?new u(o).toARIO().valueOf():void 0,ar:0},info:e.jsx("div",{children:e.jsx(D,{wrapperStyle:{padding:"10px",fontSize:"14px",alignItems:"center"},customIcon:e.jsx(R,{width:"20px",fill:"var(--accent)"}),text:_({workflowName:s.INCREASE_UNDERNAMES,arioTicker:d})||""})})}),e.jsx(U,{backText:"Cancel",nextText:"Confirm",onBack:()=>r(`/manage/names/${l(t)}`),onNext:!o||o<0?void 0:()=>{const h={name:l(t),qty:i,oldQty:c.undernameLimit,processId:c.processId};m({type:"setTransactionData",payload:{assetId:x,functionName:"increaseundernameLimit",...h,interactionPrice:new u(o).toARIO().valueOf()}}),m({type:"setInteractionType",payload:s.INCREASE_UNDERNAMES}),m({type:"setWorkflowName",payload:s.INCREASE_UNDERNAMES}),r("/transaction/review",{state:`/manage/names/${l(t)}/upgrade-undernames`})},customBackStyle:{minWidth:"100px",padding:" 12px 16px"},customNextStyle:{minWidth:"100px",padding:" 12px 16px"}})]})})}export{P as default};
//# sourceMappingURL=UpgradeUndernames-5bce276c.js.map
