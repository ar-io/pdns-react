var M=Object.defineProperty;var B=(t,a,s)=>a in t?M(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s;var p=(t,a,s)=>(B(t,typeof a!="symbol"?a+"":a,s),s);import{r as e,cN as S,cO as W,cP as U,cQ as F,cR as I,A as Z,d as _,g as N,a as j,cS as R,cT as P,j as l,bP as k,bC as G,cU as T,cV as D,cW as V,bH as H,cX as z,bg as K,cY as X}from"./index-02bb0721.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="e5158186-30a4-415c-5c7d-09676e7ddf54",t._sentryDebugIdIdentifier="sentry-dbid-e5158186-30a4-415c-5c7d-09676e7ddf54")}catch{}})();const J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOeSURBVHgBvVjNaxNREJ+kNoK9hFw8eDBSrb21UD9AhS69C3qpHjxEULAVbAXxT/CmjfUP0IsHD2ovnlcrtGALQZD2mFwKHlLSzyRtPp6/Sd4ms2s2u5uP/mBIdvfNvN+bmTfzdkMUEEqpOH7uQMYgBiSqhbEDyWj5AVkKhUIZ6gdAJAExVXCkWJd6BRgzIGmXyUqVSmVTEzWPj4/X2hBLd0UMylHIgtNquVxeLZVKL/b29i6bpnnKRXe8UCg81mSdYJtRCgIoxLWrJUz2FgXE7u7u1UKhuCwNVavVtKrnom8yaaGfQyhmqEvAzhyIZB0hjHspRTX7hlKxWLxIPUKLxabahk/Zc8Z7Bb0hteA2MCFinO0HGTHXMKeCIGW0GiRZP6M+A6kwI6PhJNPwDrbrMgUAEv4662OLv8TvE5SESb+6yl5oE/JBY4vzNvVpbEy5V+405IEPG4bQMa2bcZE7m+QDWienPIAies/LVrlcXRUq58NUb5Q1HB0dvSEfAPFX1GyoGUw8hd8LCN99qjfWGsLh8FsvW6GQ+iwu7/JqvwqG4+QDIPRFh8vkFiGfgdxt6SW0mNF2trgFieHvbflDXWBxcfH0+vr6ma2trVuOyBnt9LgfYkzJyj2ycgEr+0UBcHBwcBY76zW89QdSVe4wvGyJJpzjbl3LhYGBgUPyie3t7RtDQ0PfqJlHXQG59hc/HNpomDpALBb7aJFB3fmEzTAyPT19CqfDEG49pG5ghQxe3/Azfn9/f9KKBXTKnDcOe4mgIRMHuxx7aEffv+R24JKIRCLnrP9wiJqYmIjI58iHKQqIwcHBK/pvhlf0wVoK+suIlzIqeUwun1cHEk8hs6p15Tba2cPzcTF2iW/MW1d8NCUfwOTvlAsQxry89qrWXMfE8Hlb6wBWyCdA6jkmzzSJqAquTST4KC4Phc2khx157o7XbjpcbVAAwKs3Vb1JBi4B3MjFvKnGA2XfGSadEJCz8vCfsD1U4oDWi0O9FzDNnCCTbjVAnk24Ng1Tn8C54ngDSbgNTErW6mQO+cl2g/ltNdUvUqp+uG+Q0a9cUS+luEOJXTtHXQIJPKvsp0z/i9Uxlm5V+Xz+ZzabvUYBoXPTVHakAntehy+p/scGduEj5XK65H7ILYirPha10kI/qTqoWZJYQrl/juF2s6Y9YKLqboBEyWVoWnXwscKLWEoFh6kCfBcKUUCo5ic9fiGMa5Gf9Fi+Q35TB5/0/gFbBojUzDhjzAAAAABJRU5ErkJggg==",Q=t=>e.createElement("svg",{width:603,height:603,viewBox:"0 0 603 603",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("g",{clipPath:"url(#clip0_61_6)"},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M416.386 301.955L308.757 165.482C304.223 159.598 299.776 158.637 294.906 164.957L187.111 301.733L291.444 396.031L301.576 179.987L311.708 396.031L416.386 301.955Z",fill:"url(#paint0_linear_61_6)"}),e.createElement("path",{d:"M492.816 443L602.201 209.575C604.548 204.461 598.944 199.352 594.069 202.159L430.508 296.169L324.193 415.936L492.816 443Z",fill:"url(#paint1_linear_61_6)"}),e.createElement("path",{d:"M110.184 443L0.798413 209.575C-1.54802 204.461 4.05556 199.352 8.93098 202.159L172.492 296.169L278.807 415.936L110.184 443Z",fill:"url(#paint2_linear_61_6)"})),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear_61_6",x1:300.941,y1:396.031,x2:300.941,y2:160.626,gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#6B57F9"}),e.createElement("stop",{offset:1,stopColor:"#9787FF"})),e.createElement("linearGradient",{id:"paint1_linear_61_6",x1:367.701,y1:348.025,x2:514.568,y2:431.451,gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#6B57F9"}),e.createElement("stop",{offset:1,stopColor:"#9787FF"})),e.createElement("linearGradient",{id:"paint2_linear_61_6",x1:235.299,y1:348.025,x2:88.4317,y2:431.451,gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#6B57F9"}),e.createElement("stop",{offset:1,stopColor:"#9787FF"})),e.createElement("clipPath",{id:"clip0_61_6"},e.createElement("rect",{width:603,height:283,fill:"white",transform:"translate(0 160)"})))),q=t=>e.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.createElement("path",{d:"M20.5985 3L12.9626 8.62182L14.3776 5.30737L20.5985 3Z",fill:"#E27625"}),e.createElement("path",{d:"M2.9699 3L10.5421 8.67281L9.19087 5.30737L2.9699 3Z",fill:"#E27625"}),e.createElement("path",{d:"M17.8582 16.0409L15.8185 19.1259L20.1783 20.3242L21.4276 16.1047L17.8582 16.0409Z",fill:"#E27625"}),e.createElement("path",{d:"M2.16751 16.1047L3.40405 20.3242L7.75109 19.1259L5.72417 16.0409L2.16751 16.1047Z",fill:"#E27625"}),e.createElement("path",{d:"M7.5208 10.8151L6.30975 12.638L10.6185 12.8292L10.4783 8.21451L7.5208 10.8151Z",fill:"#E27625"}),e.createElement("path",{d:"M16.0603 10.8154L13.0518 8.16384L12.9626 12.8296L17.2713 12.6384L16.0603 10.8154Z",fill:"#E27625"}),e.createElement("path",{d:"M7.74909 19.1263L10.3624 17.877L8.10603 16.1433L7.74909 19.1263Z",fill:"#E27625"}),e.createElement("path",{d:"M13.219 17.877L15.8196 19.1263L15.4626 16.1433L13.219 17.877Z",fill:"#E27625"}),e.createElement("path",{d:"M15.8196 19.1263L13.219 17.877L13.4357 19.559L13.4102 20.2729L15.8196 19.1263Z",fill:"#D7C1B3"}),e.createElement("path",{d:"M7.74909 19.1263L10.1712 20.2729L10.1584 19.559L10.3624 17.877L7.74909 19.1263Z",fill:"#D7C1B3"}),e.createElement("path",{d:"M10.2095 15.0216L8.05516 14.3969L9.5849 13.6958L10.2095 15.0216Z",fill:"#2F343B"}),e.createElement("path",{d:"M13.3596 15.0216L13.997 13.6958L15.5268 14.3969L13.3596 15.0216Z",fill:"#2F343B"}),e.createElement("path",{d:"M7.74909 19.1263L8.13178 16.0409L5.72243 16.1047L7.74909 19.1263Z",fill:"#CC6228"}),e.createElement("path",{d:"M15.4483 16.0409L15.8185 19.1259L17.8577 16.1047L15.4483 16.0409Z",fill:"#CC6228"}),e.createElement("path",{d:"M17.2713 12.637L12.9626 12.8282L13.3577 15.0208L13.9951 13.695L15.5249 14.3962L17.2713 12.637Z",fill:"#CC6228"}),e.createElement("path",{d:"M8.05621 14.3962L9.58596 13.695L10.2106 15.0208L10.6185 12.8282L6.30975 12.637L8.05621 14.3962Z",fill:"#CC6228"}),e.createElement("path",{d:"M6.30975 12.637L8.1072 16.1426L8.05621 14.3962L6.30975 12.637Z",fill:"#E27625"}),e.createElement("path",{d:"M15.5249 14.3962L15.4607 16.1426L17.2713 12.637L15.5249 14.3962Z",fill:"#E27625"}),e.createElement("path",{d:"M10.6185 12.8292L10.2095 15.0216L10.7199 17.6225L10.8347 14.2061L10.6185 12.8292Z",fill:"#E27625"}),e.createElement("path",{d:"M12.9642 12.8293L12.7475 14.1933L12.8495 17.6225L13.3596 15.0216L12.9642 12.8293Z",fill:"#E27625"}),e.createElement("path",{d:"M13.3596 15.0216L12.8495 17.6225L13.219 17.877L15.4626 16.1433L15.5268 14.3969L13.3596 15.0216Z",fill:"#F5841F"}),e.createElement("path",{d:"M8.05516 14.3969L8.10603 16.1433L10.3624 17.877L10.7199 17.6225L10.2095 15.0216L8.05516 14.3969Z",fill:"#F5841F"}),e.createElement("path",{d:"M13.4092 20.2727L13.4347 19.5588L13.2307 19.3931H10.3369L10.1584 19.559L10.1712 20.2729L7.74909 19.1263L8.59045 19.8138L10.3114 20.9993H13.2562L14.9771 19.8138L15.8185 19.1259L13.4092 20.2727Z",fill:"#C0AD9E"}),e.createElement("path",{d:"M13.2178 17.8769L12.8481 17.6219L10.7199 17.6225L10.3624 17.877L10.1584 19.559L10.3369 19.3931H13.2307L13.4347 19.5588L13.2178 17.8769Z",fill:"#2F343B"}),e.createElement("path",{d:"M20.9315 8.99151L21.5689 5.88102L20.6 3L13.219 8.4306L16.0618 10.8145L20.0774 11.9873L20.957 10.9547L20.5745 10.6742L21.1864 10.1261L20.7148 9.75638L21.3267 9.29746L20.9315 8.99151Z",fill:"#763E1A"}),e.createElement("path",{d:"M2 5.88102L2.65014 8.99151L2.24221 9.29746L2.85411 9.76913L2.38244 10.1261L2.99434 10.6742L2.6119 10.9547L3.50425 11.9873L7.51984 10.8145L10.3626 8.4306L2.96884 3L2 5.88102Z",fill:"#763E1A"}),e.createElement("path",{d:"M20.0755 11.9878L16.0603 10.8154L17.2713 12.6384L15.4607 16.1437L17.8577 16.1047L21.4267 16.1054L20.0755 11.9878Z",fill:"#F5841F"}),e.createElement("path",{d:"M7.5208 10.8151L3.50604 11.9878L2.16751 16.1047L5.72417 16.1054L8.10803 16.1437L6.30975 12.638L7.5208 10.8151Z",fill:"#F5841F"}),e.createElement("path",{d:"M12.9639 12.8281L13.219 8.4306L14.3789 5.30687L9.19087 5.30737L10.3626 8.4306L10.6185 12.8282L10.7202 14.2049V17.6213H12.8491L12.8619 14.2049L12.9639 12.8281Z",fill:"#F5841F"}));class O{constructor(){p(this,"_wallet");p(this,"contractSigner");this._wallet=S,this.contractSigner=this._wallet}async safeWanderApiExecutor(a){const s=await W(()=>a(),2e4);if(s==="timeout")throw new Error(U);return s}async connect(){try{localStorage.setItem("walletType",F.ARWEAVE_APP),await this._wallet.connect({name:"ARNS - ar.io"})}catch{throw localStorage.removeItem("walletType"),new I("User cancelled authentication.")}}async disconnect(){return localStorage.removeItem("walletType"),this._wallet.disconnect()}async getWalletAddress(){const a=await this._wallet.namespaces.arweaveWallet.getActiveAddress();return new Z(a)}async getGatewayConfig(){return{host:"ar-io.dev",port:443,protocol:"https"}}}function ee(){var w;const t=e.useRef(null),[{arioProcessId:a,aoClient:s},g]=_(),[{wallet:h,walletAddress:o,walletStateInitialized:L},m]=N(),d=j(),{state:r}=R(),[y,E]=e.useState(!1),[x,C]=e.useState(!L),A=P();e.useEffect(()=>{L&&C(!1)},[L]),e.useEffect(()=>(h&&o&&i({next:!0,address:o}),document.body.style.overflow="hidden",()=>{document.body.style.overflow="scroll"}),[h,o]);function b(n){t.current&&t.current===n.target&&i({next:!1})}async function i({next:n,address:c}){if(!c){d((r==null?void 0:r.from)??"/",{state:{from:(r==null?void 0:r.from)??"/"}});return}d(n?(r==null?void 0:r.to)??"/":(r==null?void 0:r.from)??"/")}async function f(n){try{E(!0),await n.connect();const c=await n.getGatewayConfig(),v=V.init({process:new H({processId:a,ao:s}),signer:n.contractSigner});c!=null&&c.host&&await z(c.host,v,g);const u=await n.getWalletAddress();m({type:"setWalletAddress",payload:u}),m({type:"setWallet",payload:n}),i({next:!0,address:u})}catch(c){n&&K.emit("error",c)}finally{E(!1)}}return x?l.jsx(k,{loading:!0,message:"Connecting to Wallet"}):l.jsx("div",{className:"modal-container",ref:t,onClick:b,children:l.jsxs("div",{className:"connect-wallet-modal",children:[l.jsx("p",{className:"section-header",style:{marginBottom:"1em",fontFamily:"Rubik-Bold"},children:"Connect with an Arweave wallet"}),l.jsx("button",{className:"modal-close-button",onClick:()=>i({next:!1}),children:l.jsx(G,{width:"30px",height:"30px",fill:"var(--text-white)"})}),l.jsxs("button",{disabled:y,className:"wallet-connect-button h2",onClick:()=>{f(new X)},children:[l.jsx(Q,{className:"external-icon size-12 p-3"}),"Wander"]}),l.jsxs("button",{className:"wallet-connect-button h2",onClick:()=>{f(new O)},children:[l.jsx("img",{className:"external-icon size-12 p-3",src:J,alt:""}),"Arweave.app"]}),l.jsx("p",{className:"section-header",style:{marginBottom:"1em",fontFamily:"Rubik-Bold"},children:"Connect with an Ethereum wallet"}),l.jsxs("button",{type:"button",className:"wallet-connect-button h2",onClick:async()=>{var n;if(!A)throw new Error("Application is not not properly configured for Metamask.");if(!((n=window.ethereum)!=null&&n.isMetaMask)){window.open(T,"_blank","noopener,noreferrer");return}f(new D(A))},children:[l.jsx(q,{className:"external-icon size-12 p-3"}),(w=window==null?void 0:window.ethereum)!=null&&w.isMetaMask?"Metamask":"Install Metamask"]}),l.jsxs("span",{className:"flex flex-row white flex-center",style:{whiteSpace:"nowrap",gap:"5px",paddingTop:"16px"},children:["Don't have a wallet? ",l.jsx("a",{target:"_blank",href:"https://ar.io/wallet",style:{color:"inherit",textDecoration:"underline"},rel:"noreferrer",className:"bold",children:"Get one here."})]})]})})}export{ee as default};
//# sourceMappingURL=ConnectWalletModal-bfa07eaf.js.map
