import{u as S,a as E,d as N,b as L,r as i,c as T,Y as C,g as M,M as k,e as _,f as A,j as e,h as U,T as g,l as h}from"./index-7ddd2650.js";import{u as F,T as $}from"./TransactionSuccessCard-c5691c98.js";import{D as O}from"./DomainSettings-be1f3d6b.js";import{S as z}from"./HamburgerOutline-8b354b3b.js";import"./Info-3ec67b16.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="1cc42be5-d52d-441c-63eb-e66e0e200ffb",t._sentryDebugIdIdentifier="sentry-dbid-1cc42be5-d52d-441c-63eb-e66e0e200ffb")}catch{}})();function q(){const{name:t}=S(),s=E(),c=N(),[{walletAddress:b}]=L(),[o,y]=i.useState(!1),[r,w]=i.useState(!1),[D,I]=i.useState(),[n,m]=i.useState(!0),{data:u,isLoading:p}=F({domain:t}),[{workflowName:j,interactionResult:l},f]=T();i.useEffect(()=>()=>{f({type:"reset"})},[]),i.useEffect(()=>{if(!t||!b){s("/manage/names");return}v({arnsRecord:u.arnsRecord})},[u,l,p]);async function v({arnsRecord:a}){if(!(p||!a))try{if(m(!0),!(a==null?void 0:a.processId))throw Error("This name is not registered");const d=C(a)?M(a.startTimestamp,a.endTimestamp):"Indefinite";y(d&&typeof d=="number"&&d>=k||d==="Indefinite"),I(a.undernameLimit),w(!!D&&a.undernameLimit>=_),m(!1)}catch(x){A.emit("error",x),s("/manage/names",{state:c.pathname})}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page",style:{gap:"30px"},children:[l?e.jsx($,{txId:l.id,title:`${j} completed`,close:()=>{f({type:"reset"})}}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"flex flex-row",style:{justifyContent:"space-between",width:"100%"},children:[e.jsxs("h2",{className:"flex white center",style:{gap:"16px"},children:[e.jsx(z,{width:"20px",height:"20px",fill:"var(--text-white)"}),U(t)]}),e.jsxs("div",{className:"flex flex-row",style:{gap:"20px",width:"fit-content"},children:[e.jsx(g,{trigger:["hover"],title:r?"Max undername support reached":"Increase undername support",color:"#222224",placement:"top",rootClassName:"notification-tooltip",children:e.jsx("button",{disabled:n||r,className:`button-secondary ${n||r?"disabled-button":"hover"}`,style:{padding:n||r?"0px":"9px",gap:"8px",fontSize:"14px",color:"var(--accent)",fontFamily:"Rubik"},onClick:()=>s(`/manage/names/${h(t)}/upgrade-undernames`),children:"Increase Undernames"})}),e.jsx(g,{trigger:["hover"],title:o?"Max lease duration reached":"Extend lease",color:"#222224",placement:"top",rootClassName:"notification-tooltip",children:e.jsx("button",{disabled:n||o,className:`button-primary ${n||o?"disabled-button":"hover"}`,style:{padding:n||o?"0px":"9px",gap:"8px",fontSize:"14px",color:"var(--text-black)",fontFamily:"Rubik"},onClick:()=>s(`/manage/names/${h(t)}/extend`),children:"Extend Lease"})})]})]}),e.jsx("div",{style:{width:"100%"},children:e.jsx(O,{domain:t})})]})})}export{q as default};
//# sourceMappingURL=ManageDomain-238f238f.js.map
