{"version":3,"file":"TransactionCost-cc56b155.js","sources":["../../src/hooks/useLongPress/useLongPress.tsx","../../src/components/inputs/Counter/Counter.tsx","../../src/components/layout/TransactionCost/TransactionCost.tsx"],"sourcesContent":["import { useRef } from 'react';\n\nexport function useLongPress(action: () => void) {\n  const timerRef = useRef<NodeJS.Timeout | undefined>();\n  const isLongPress = useRef<boolean>();\n\n  function startPressTimer() {\n    isLongPress.current = false;\n    timerRef.current = setInterval(() => {\n      isLongPress.current = true;\n      action();\n    }, 200);\n  }\n\n  function handleOnClick() {\n    if (isLongPress.current) {\n      return;\n    }\n    action();\n  }\n\n  function handleOnMouseDown() {\n    startPressTimer();\n  }\n\n  function handleOnMouseUp() {\n    clearInterval(timerRef.current);\n  }\n\n  function handleOnTouchStart() {\n    startPressTimer();\n  }\n\n  function handleOnTouchEnd() {\n    clearInterval(timerRef.current);\n  }\n\n  return {\n    handleOnClick,\n    handleOnMouseDown,\n    handleOnMouseUp,\n    handleOnTouchStart,\n    handleOnTouchEnd,\n  };\n}\n","import { clamp } from 'lodash';\nimport { CSSProperties } from 'react';\n\nimport { useLongPress } from '../../../hooks';\nimport ValidationInput from '../text/ValidationInput/ValidationInput';\nimport './styles.css';\n\nfunction Counter({\n  value,\n  setValue,\n  maxValue,\n  minValue,\n  title,\n  valueName,\n  detail,\n  valueStyle = {},\n  containerStyle = {},\n  editable,\n}: {\n  value: number;\n  setValue: (v: number) => void;\n  maxValue: number;\n  minValue: number;\n  title?: JSX.Element | string;\n  valueName?: JSX.Element | string;\n  detail?: JSX.Element | string;\n  valueStyle?: CSSProperties;\n  containerStyle?: CSSProperties;\n  editable?: boolean;\n}) {\n  // TODO make this component generic; pass in count and setCount\n  const {\n    handleOnClick: incHandleOnClick,\n    handleOnMouseDown: incHandleOnMouseDown,\n    handleOnMouseUp: incHandleOnMouseUp,\n    handleOnTouchEnd: incHandleOnTouchEnd,\n    handleOnTouchStart: incHandleOnTouchStart,\n  } = useLongPress(() => (value < maxValue ? setValue(++value) : null));\n  const {\n    handleOnClick: decHandleOnClick,\n    handleOnMouseDown: decHandleOnMouseDown,\n    handleOnMouseUp: decHandleOnMouseUp,\n    handleOnTouchEnd: decHandleOnTouchEnd,\n    handleOnTouchStart: decHandleOnTouchStart,\n  } = useLongPress(() => (value > minValue ? setValue(--value) : null));\n\n  return (\n    <div className=\"counter-container center\" style={containerStyle}>\n      {title}\n      <div className=\"flex-column center\">\n        <div className=\"counter\">\n          <button\n            className={`counter-button ${minValue === value ? '' : 'hover'}`}\n            disabled={value == minValue}\n            onClick={decHandleOnClick}\n            onMouseDown={decHandleOnMouseDown}\n            onMouseUp={decHandleOnMouseUp}\n            onTouchStart={decHandleOnTouchStart}\n            onTouchEnd={decHandleOnTouchEnd}\n            onMouseLeave={decHandleOnTouchEnd}\n            style={{\n              borderColor: minValue === value ? 'var(--disabled-grey)' : '',\n              color: minValue === value ? 'var(--disabled-grey)' : 'white',\n            }}\n          >\n            -\n          </button>\n          <div\n            className=\"flex flex-column flex-center\"\n            style={{ width: 'fit-content', gap: '0px' }}\n          >\n            <span\n              className=\"text-large white center\"\n              style={{\n                fontWeight: 500,\n                ...valueStyle,\n                paddingTop: '7px',\n                paddingBottom: '7px',\n              }}\n            >\n              {editable ? (\n                <ValidationInput\n                  value={value.toFixed()} // removes leading zeroes\n                  setValue={(v: string | number) => {\n                    setValue(\n                      Math.round(clamp(v as number, minValue, maxValue)),\n                    );\n                  }}\n                  minNumber={minValue}\n                  maxNumber={maxValue}\n                  inputType=\"number\"\n                  id=\"counter-input\"\n                  catchInvalidInput={false}\n                  inputClassName=\"counter-input\"\n                  wrapperClassName=\"flex center\"\n                  validationPredicates={{}}\n                />\n              ) : (\n                value\n              )}\n\n              {valueName ? <>&nbsp;{valueName}</> : <></>}\n            </span>\n            {detail ? (\n              <span className=\"text grey center\" style={{ fontSize: '14px' }}>\n                {detail}\n              </span>\n            ) : (\n              <></>\n            )}\n          </div>\n          <button\n            className={`counter-button ${maxValue === value ? '' : 'hover'}`}\n            disabled={value == maxValue}\n            onClick={incHandleOnClick}\n            onMouseDown={incHandleOnMouseDown}\n            onMouseUp={incHandleOnMouseUp}\n            onTouchStart={incHandleOnTouchStart}\n            onTouchEnd={incHandleOnTouchEnd}\n            onMouseLeave={incHandleOnTouchEnd}\n            style={{\n              borderColor: maxValue === value ? 'var(--disabled-grey)' : '',\n              color: maxValue === value ? 'var(--disabled-grey)' : '',\n            }}\n          >\n            +\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default Counter;\n","import { CSSProperties } from 'react';\n\nimport { useIsMobile } from '../../../hooks';\nimport { useGlobalState } from '../../../state/contexts/GlobalState';\n\nfunction TransactionCost({\n  fee,\n  info,\n  showBorder = true,\n  ioRequired = false,\n  feeWrapperStyle,\n  style,\n}: {\n  fee?: { [x: string]: number | undefined };\n  info?: JSX.Element | string;\n  showBorder?: boolean;\n  ioRequired?: boolean;\n  feeWrapperStyle?: CSSProperties;\n  style?: CSSProperties;\n}) {\n  const isMobile = useIsMobile();\n  const [{ arioTicker }] = useGlobalState();\n  const ioFee = fee?.[arioTicker];\n  const feeError = ioFee && ioFee < 0;\n\n  return (\n    <div\n      className=\"flex flex-row\"\n      style={{\n        borderBottom: showBorder ? 'solid 1px var(--text-faded)' : 'none',\n        padding: '20px 0px',\n        justifyContent: info ? 'space-between' : 'flex-end',\n        alignItems: isMobile ? 'center' : 'flex-start',\n        width: '100%',\n        flexDirection: isMobile ? 'column' : 'row',\n        ...(style ?? {}),\n      }}\n    >\n      {info}\n      <div\n        className=\"flex flex-row\"\n        style={{\n          gap: '1em',\n          width: isMobile ? '100%' : 'fit-content',\n          alignItems: 'flex-start',\n          height: '100%',\n        }}\n      >\n        <div\n          className=\"flex flex-column\"\n          style={{\n            gap: '0.2em',\n            alignItems: 'flex-end',\n            width: 'fit-content',\n            ...feeWrapperStyle,\n          }}\n        >\n          <span\n            className=\"flex flex-row text white flex-right whitespace-nowrap\"\n            style={{\n              gap: '5px',\n              width: 'fit-content',\n              fontSize: '18px',\n            }}\n          >\n            {feeError ? (\n              'Unable to calculate fee'\n            ) : (\n              <>\n                {ioFee !== undefined && ioFee >= 0\n                  ? `${ioFee.toLocaleString()} ${arioTicker} `\n                  : ioRequired\n                  ? `Calculating ${arioTicker}  `\n                  : ''}\n                {/* <ArPrice dataSize={SMARTWEAVE_TAG_SIZE} /> */}\n              </>\n            )}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TransactionCost;\n"],"names":["useLongPress","action","timerRef","reactExports","isLongPress","startPressTimer","handleOnClick","handleOnMouseDown","handleOnMouseUp","handleOnTouchStart","handleOnTouchEnd","Counter","value","setValue","maxValue","minValue","title","valueName","detail","valueStyle","containerStyle","editable","incHandleOnClick","incHandleOnMouseDown","incHandleOnMouseUp","incHandleOnTouchEnd","incHandleOnTouchStart","decHandleOnClick","decHandleOnMouseDown","decHandleOnMouseUp","decHandleOnTouchEnd","decHandleOnTouchStart","jsxRuntimeExports","ValidationInput","v","lodashExports","TransactionCost","fee","info","showBorder","ioRequired","feeWrapperStyle","style","isMobile","useIsMobile","arioTicker","useGlobalState","ioFee","feeError"],"mappings":"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"}