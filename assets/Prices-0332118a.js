import{d as w,c_ as x,r as c,j as s,cC as h,d3 as y,d4 as m,d5 as F,bv as u,bg as N,cF as j,cJ as v}from"./index-8a142301.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new Error().stack;r&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[r]="fb3f40d1-6ffc-4450-8977-07fb6b4484e6",a._sentryDebugIdIdentifier="sentry-dbid-fb3f40d1-6ffc-4450-8977-07fb6b4484e6")}catch{}})();function E(){const[{arioProcessId:a,arioContract:r}]=w();return x({queryKey:["demand-factor",a],queryFn:async()=>await r.getDemandFactor(),enabled:!!a&&!!(r!=null&&r.getDemandFactor),staleTime:1e3*60*3})}const A=v(),_=new Array(m-12).fill(!0).reduce((a,r,d)=>(a[d+13]=200,a),{}),D={1:1e6,2:2e5,3:2e4,4:1e4,5:2500,6:1500,7:800,8:500,9:400,10:350,11:300,12:250,..._};function I(){const{data:a,isLoading:r,error:d}=E(),[i,f]=c.useState(""),b=c.useMemo(()=>a?Object.entries(D).map(([t,n])=>{const l=n*a,o=l*.2;return{characters:Number(t),baseFee:n,adjustedRegistrationFee:l,renewalFee:o,oneYearLeaseFee:l+o*1,permabuyFee:l+o*20,undernameFee:n*a*.001,permabuyUndernameFee:n*a*.005}}):[],[a,r,d]),g=["characters","oneYearLeaseFee","renewalFee","permabuyFee","undernameFee","permabuyUndernameFee"].map(e=>A.accessor(e,{id:e,header:()=>s.jsxs("span",{className:"",children:[h(e)," "]}),cell:({row:t})=>{const n=Number(t.getValue(e));return e==="characters"?n.toString():y(Number(n.toFixed(1)))}}));return s.jsxs("div",{className:"page sm:px-10 lg:px-[100px]",children:[s.jsxs("div",{className:"flex justify-between w-full items-center",children:[s.jsx("h1",{className:"text-white text-3xl w-full",children:"Prices ($ARIO)"})," ",s.jsxs("span",{className:"flex p-2 bg-foreground border border-dark-grey rounded text-white whitespace-nowrap",children:["Demand Factor:"," ",r?"Loading...":d?d.message:a]})]}),s.jsx("div",{className:"flex w-full py-2 justify-between  items-center gap-5",children:s.jsx("input",{className:"flex w-full p-2 bg-background border-b border-dark-grey outline-none text-white",placeholder:"Enter an ArNS Name to see its fee",value:i,onChange:e=>{const t=e.target.value.trim();if(!(t.length>m)){if(!F.test(u(t))){N.emit("error",{name:"Invalid ARNS name",message:`${t} is not a valid arns name`});return}f(t)}}})}),s.jsx("div",{className:"flex flex-col size-full gap-2",children:s.jsx(j,{data:b,columns:g,isLoading:!1,defaultSortingState:{id:"characters",desc:!1},tableClass:"border-[1px] border-dark-grey relative",paginationConfig:{pageSize:51},headerClass:"sticky absolute",bodyClass:"scrollbar overflow-y-scroll",rowClass:e=>{var n;const t=(n=e==null?void 0:e.row)==null?void 0:n.getValue("characters");return(e==null?void 0:e.row)!==void 0&&t===u(i).length?"bg-primary-thin border-l-2 border-primary border-t-0":""},dataClass:e=>(e==null?void 0:e.row)!==void 0&&e.row.getIsExpanded()?"border-t-[1px] border-dark-grey border-b-0":""})})]})}export{I as default};
//# sourceMappingURL=Prices-0332118a.js.map
