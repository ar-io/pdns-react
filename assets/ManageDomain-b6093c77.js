import{u as v,a as N,c as S,r as i,b as E,i as L,g as T,M as C,d as M,e as _,j as e,f as k,T as g,l as b}from"./index-4cc8c479.js";import{T as A,D as U}from"./TransactionSuccessCard-13f497be.js";import{u as F}from"./useDomainInfo-e1056820.js";import{S as $}from"./HamburgerOutline-5723d6ca.js";import"./Pagination-0bae0c51.js";import"./useBreakpoint-3ecfc403.js";import"./ANTCard-fdaa96dd.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="cbdf0194-204e-44f9-196b-708865d2b3cc",t._sentryDebugIdIdentifier="sentry-dbid-cbdf0194-204e-44f9-196b-708865d2b3cc")}catch{}})();function q(){const{name:t}=v(),n=N(),l=S(),[d,h]=i.useState(!1),[m,y]=i.useState(!1),[D,I]=i.useState(),[o,u]=i.useState(!0),{data:s,isLoading:p}=F({domain:t}),[{workflowName:w,interactionResult:c},f]=E();i.useEffect(()=>()=>{f({type:"reset"})},[]),i.useEffect(()=>{if(!t){n("/manage/names");return}s!=null&&s.arnsRecord&&j({arnsRecord:s.arnsRecord})},[s==null?void 0:s.arnsRecord,c,p]);async function j({arnsRecord:a}){if(!(p||!a))try{if(u(!0),!(a==null?void 0:a.processId))throw Error("This name is not registered");const r=L(a)?T(a.startTimestamp,a.endTimestamp):"Indefinite";h(r&&typeof r=="number"&&r>=C||r==="Indefinite"),I(a.undernameLimit),y(!!D&&a.undernameLimit>=M),u(!1)}catch(x){_.emit("error",x),n("/manage/names",{state:l.pathname})}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page",style:{gap:"0px",paddingTop:"10px",paddingBottom:"10px"},children:[c?e.jsx(A,{txId:c.id,title:`${w} completed`,close:()=>{f({type:"reset"})}}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"flex flex-row",style:{justifyContent:"space-between",width:"100%"},children:[e.jsxs("h2",{className:"flex white center",style:{gap:"16px"},children:[e.jsx($,{width:"20px",height:"20px",fill:"var(--text-white)"}),k(t)]}),e.jsxs("div",{className:"flex flex-row",style:{gap:"20px",width:"fit-content"},children:[e.jsx(g,{trigger:["hover"],title:m?"Max undername support reached":"Increase undername support",color:"#222224",placement:"top",rootClassName:"notification-tooltip",children:e.jsx("button",{disabled:o||m,className:`button-secondary ${o||m?"disabled-button":"hover"}`,style:{padding:"9px",gap:"8px",fontSize:"14px",color:"var(--accent)",fontFamily:"Rubik"},onClick:()=>n(`/manage/names/${b(t)}/upgrade-undernames`),children:"Increase Undernames"})}),e.jsx(g,{trigger:["hover"],title:d?"Max lease duration reached":"Extend lease",color:"#222224",placement:"top",rootClassName:"notification-tooltip",children:e.jsx("button",{disabled:o||d,className:`button-primary ${o||d?"disabled-button":"hover"}`,style:{padding:"9px",gap:"8px",fontSize:"14px",color:"var(--text-black)",fontFamily:"Rubik"},onClick:()=>n(`/manage/names/${b(t)}/extend`),children:"Extend Lease"})})]})]}),e.jsx(U,{domain:t})]})})}export{q as default};
//# sourceMappingURL=ManageDomain-b6093c77.js.map
