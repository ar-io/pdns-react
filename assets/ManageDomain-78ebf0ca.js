import{u as v,a as N,d as S,b as T,r as i,c as E,g as C,M,e as L,f as _,j as e,T as x}from"./index-c995df8e.js";import{u as k,T as U}from"./TransactionSuccessCard-ec6d1275.js";import{D as A}from"./DomainSettings-2664e16c.js";import{S as F}from"./HamburgerOutline-441ceec2.js";import"./DialogModal-41ad6aec.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="3aa5b4b8-213e-4969-bf06-8bf965bf9f63",t._sentryDebugIdIdentifier="sentry-dbid-3aa5b4b8-213e-4969-bf06-8bf965bf9f63")}catch{}})();function P(){const{name:t}=v(),n=N(),m=S(),[{walletAddress:g}]=T(),[o,b]=i.useState(!1),[r,h]=i.useState(!1),[y,w]=i.useState(),[s,c]=i.useState(!0),{data:u,isLoading:p}=k({domain:t}),[{workflowName:j,interactionResult:d},D]=E();i.useEffect(()=>{if(!t||!g){n("/manage/names");return}I({arnsRecord:u.arnsRecord})},[u,d,p]);async function I({arnsRecord:a}){if(!(p||!a))try{if(c(!0),!(a==null?void 0:a.contractTxId))throw Error("This name is not registered");const l=a!=null&&a.endTimestamp?C(a.startTimestamp*1e3,a.endTimestamp*1e3):"Indefinite";b(l&&typeof l=="number"&&l>=M||l==="Indefinite"),w(a.undernames),h(!!y&&a.undernames>=L),c(!1)}catch(f){_.emit("error",f),n("/manage/names",{state:m.pathname})}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page",style:{gap:"30px"},children:[d?e.jsx(U,{txId:d.id,title:`${j} completed`,close:()=>{D({type:"reset"})}}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"flex flex-row",style:{justifyContent:"space-between",width:"100%"},children:[e.jsxs("h2",{className:"flex white center",style:{gap:"16px"},children:[e.jsx(F,{width:"20px",height:"20px",fill:"var(--text-white)"}),t]}),e.jsxs("div",{className:"flex flex-row",style:{gap:"20px",width:"fit-content"},children:[e.jsx(x,{trigger:["hover"],title:r?"Max undername support reached":"Increase undername support",color:"#222224",placement:"top",rootClassName:"notification-tooltip",children:e.jsx("button",{disabled:s||r,className:`button-secondary ${s||r?"disabled-button":"hover"}`,style:{padding:s||r?"0px":"9px",gap:"8px",fontSize:"14px",color:"var(--accent)",fontFamily:"Rubik"},onClick:()=>n(`/manage/names/${t}/upgrade-undernames`),children:"Increase Undernames"})}),e.jsx(x,{trigger:["hover"],title:o?"Max lease duration reached":"Extend lease",color:"#222224",placement:"top",rootClassName:"notification-tooltip",children:e.jsx("button",{disabled:s||o,className:`button-primary ${s||o?"disabled-button":"hover"}`,style:{padding:s||o?"0px":"9px",gap:"8px",fontSize:"14px",color:"var(--text-black)",fontFamily:"Rubik"},onClick:()=>n(`/manage/names/${t}/extend`),children:"Extend Lease"})})]})]}),e.jsx("div",{style:{width:"100%"},children:e.jsx(A,{domain:t})})]})})}export{P as default};
//# sourceMappingURL=ManageDomain-78ebf0ca.js.map
